<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Customer Assistant — Demo</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    html, body {
      width: 100%;
      height: 100%;
      overflow: hidden;
      font-family: 'Inter', sans-serif;
    }

    /* ── Root container ──────────────────────────────────────────── */
    .container {
      display: flex;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
    }

    /* ═══════════════════════ LEFT PANEL ════════════════════════════ */
    .left-panel {
      width: 50%;
      height: 100vh;
      background: #FFFFFF;
      border-right: 1px solid #E8E8E8;
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
    }

    .run-demo-btn {
      margin-top: 20px;
      background: #00897B;
      color: #FFFFFF;
      border: none;
      border-radius: 10px;
      padding: 10px 28px;
      font-size: 14px;
      font-weight: 600;
      font-family: 'Inter', sans-serif;
      cursor: pointer;
      letter-spacing: 0.015em;
      transition: background 0.18s ease, box-shadow 0.18s ease;
      position: relative;
      z-index: 2;
    }
    .run-demo-btn:hover {
      background: #00796B;
      box-shadow: 0 4px 20px rgba(0, 137, 123, 0.36);
    }
    .run-demo-btn:active { background: #00695C; }
    .run-demo-btn:disabled {
      background: #80CBC4;
      cursor: not-allowed;
      box-shadow: none;
    }

    /* Diagram area — reserved, empty at this stage */
    .diagram-area {
      flex: 1;
      width: 100%;
    }

    /* ═══════════════════════ RIGHT PANEL ═══════════════════════════ */
    .right-panel {
      width: 50%;
      height: 100vh;
      position: relative;
      overflow: hidden;
    }

    /* Deep blue-to-indigo sky gradient */
    .sky-bg {
      position: absolute;
      inset: 0;
      background: linear-gradient(
        to bottom,
        #4A90D9  0%,
        #2E68B8 22%,
        #1B3A6B 52%,
        #0D2045 76%,
        #0A1628 100%
      );
    }

    /* Upper atmospheric scattering haze */
    .sky-upper-haze {
      position: absolute;
      inset: 0;
      background: radial-gradient(
        ellipse 130% 45% at 50% 0%,
        rgba(120, 190, 255, 0.13) 0%,
        transparent 70%
      );
      pointer-events: none;
    }

    /* Warm horizon glow band at ~60% height */
    .horizon-glow {
      position: absolute;
      top: 60%;
      left: -25%;
      right: -25%;
      height: 120px;
      transform: translateY(-50%);
      background: radial-gradient(
        ellipse 80% 60px at 50% 50%,
        rgba(255, 244, 200, 0.21) 0%,
        rgba(255, 224, 150, 0.10) 45%,
        transparent 100%
      );
      pointer-events: none;
    }

    /* Wing & sky SVG overlay */
    .wing-overlay {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }

    /* Stars layer */
    .stars-layer {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }

    /* ═══════════════════════ CHAT WIDGET ════════════════════════════ */
    .chat-widget {
      position: absolute;
      bottom: 24px;
      right: 24px;
      width: 360px;
      max-height: 520px;
      height: 520px;
      background: #FFFFFF;
      border-radius: 16px;
      box-shadow: 0 8px 40px rgba(0, 0, 0, 0.28);
      display: flex;
      flex-direction: column;
      overflow: hidden;
      font-family: 'Inter', sans-serif;
      font-size: 13px;
    }

    /* Header */
    .chat-header {
      background: #00897B;
      border-radius: 16px 16px 0 0;
      padding: 12px 14px;
      display: flex;
      align-items: center;
      gap: 10px;
      flex-shrink: 0;
    }

    .chat-header-icon { width: 32px; height: 32px; flex-shrink: 0; }

    .chat-header-info { flex: 1; min-width: 0; }

    .chat-header-title {
      color: #FFFFFF;
      font-size: 15px;
      font-weight: 600;
      line-height: 1.2;
    }

    .chat-header-sub {
      color: rgba(255, 255, 255, 0.65);
      font-size: 10.5px;
      margin-top: 1px;
    }

    .status-dot {
      width: 8px;
      height: 8px;
      background: #69F0AE;
      border-radius: 50%;
      flex-shrink: 0;
      box-shadow: 0 0 7px rgba(105, 240, 174, 0.75);
    }

    /* Message scroll area */
    .chat-messages {
      flex: 1;
      overflow-y: auto;
      padding: 16px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      min-height: 0;
    }
    .chat-messages::-webkit-scrollbar { width: 4px; }
    .chat-messages::-webkit-scrollbar-track { background: transparent; }
    .chat-messages::-webkit-scrollbar-thumb {
      background: #DEDEDE;
      border-radius: 2px;
    }

    /* Bubble rows */
    .msg-row { display: flex; flex-direction: column; }
    .msg-row.user      { align-items: flex-end; }
    .msg-row.assistant { align-items: flex-start; }

    .bubble {
      max-width: 75%;
      padding: 10px 14px;
      font-size: 13px;
      line-height: 1.5;
      word-wrap: break-word;
    }
    .bubble.user {
      background: #00897B;
      color: #FFFFFF;
      border-radius: 12px 12px 2px 12px;
    }
    .bubble.assistant {
      background: #F1F3F4;
      color: #333333;
      border-radius: 12px 12px 12px 2px;
    }

    /* Typing indicator */
    .typing-indicator {
      display: flex;
      align-items: center;
      gap: 5px;
      padding: 12px 16px;
      background: #F1F3F4;
      border-radius: 12px 12px 12px 2px;
      width: fit-content;
    }
    .typing-dot {
      width: 6px;
      height: 6px;
      background: #AAAAAA;
      border-radius: 50%;
      animation: typeBounce 1.15s infinite ease-in-out;
    }
    .typing-dot:nth-child(2) { animation-delay: 0.19s; }
    .typing-dot:nth-child(3) { animation-delay: 0.38s; }
    @keyframes typeBounce {
      0%, 60%, 100% { transform: translateY(0);   opacity: 0.4; }
      30%            { transform: translateY(-5px); opacity: 1;   }
    }

    /* Decorative input bar */
    .chat-input-bar {
      display: flex;
      align-items: center;
      padding: 10px 12px;
      border-top: 1px solid #F0F0F0;
      gap: 8px;
      flex-shrink: 0;
      background: #FFFFFF;
    }
    .chat-input {
      flex: 1;
      border: 1px solid #E8E8E8;
      border-radius: 20px;
      padding: 8px 14px;
      font-size: 13px;
      font-family: 'Inter', sans-serif;
      color: #AAAAAA;
      background: #FAFAFA;
      outline: none;
      cursor: default;
    }
    .chat-send-btn {
      width: 34px;
      height: 34px;
      background: #00897B;
      border: none;
      border-radius: 50%;
      cursor: default;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      opacity: 0.55;
    }
  </style>
</head>
<body>
<div class="container">

  <!-- ═══════════════════════ LEFT PANEL ═══════════════════════ -->
  <div class="left-panel">
    <button class="run-demo-btn" id="runDemoBtn">&#9654; Run Demo</button>
    <!-- Architecture diagram will be placed here in subsequent steps -->
    <div class="diagram-area"></div>
  </div>

  <!-- ═══════════════════════ RIGHT PANEL ═══════════════════════ -->
  <div class="right-panel">

    <!-- Base sky gradient -->
    <div class="sky-bg"></div>

    <!-- Atmospheric upper haze -->
    <div class="sky-upper-haze"></div>

    <!-- Horizon glow band at ~60% -->
    <div class="horizon-glow"></div>

    <!--
      Wing shapes: large, sweeping semi-transparent white curves that
      suggest an aircraft wing or winglet cutting through the sky.
    -->
    <svg class="wing-overlay" viewBox="0 0 800 900"
         preserveAspectRatio="xMidYMid slice" xmlns="http://www.w3.org/2000/svg">

      <!-- Main wing body — broad sweep from lower-left to upper-right -->
      <path d="M -100,880
               C  100,680  380,590  940,540
               L  940,620
               C  380,670  100,760  -100,960 Z"
            fill="rgba(255,255,255,0.055)"/>

      <!-- Secondary wing layer — slimmer, offset inward -->
      <path d="M -100,760
               C  140,580  440,505  960,458
               L  960,520
               C  440,568  140,643  -100,824 Z"
            fill="rgba(255,255,255,0.042)"/>

      <!-- Leading-edge highlight — thin bright line along wing top -->
      <path d="M -100,785 C 190,615 490,548 970,500"
            stroke="rgba(255,255,255,0.17)" stroke-width="1.4" fill="none"/>

      <!-- Soft secondary edge -->
      <path d="M -100,840 C 240,675 510,612 970,566"
            stroke="rgba(255,255,255,0.07)" stroke-width="0.9" fill="none"/>

      <!-- Upper winglet — sweeping from top-right, curving down -->
      <path d="M 560,0
               C 625,75  680,185  715,330
               C 740,430  750,520  755,600
               L 740,604
               C 734,524  724,434  699,334
               C 663,190  608,80  545,6 Z"
            fill="rgba(255,255,255,0.055)"/>

      <!-- Secondary winglet, narrower -->
      <path d="M 660,0
               C 710,65  748,160  770,290
               C 785,375  790,455  792,520
               L 779,522
               C 777,457  772,378  756,294
               C 734,165  695,71  647,8 Z"
            fill="rgba(255,255,255,0.038)"/>

      <!-- Winglet specular edge -->
      <path d="M 570,0 C 640,90 695,220 728,380 C 745,460 752,540 755,610"
            stroke="rgba(255,255,255,0.14)" stroke-width="1" fill="none"/>

      <!-- Thin contrail lines cutting across sky -->
      <line x1="-60" y1="258" x2="970" y2="192"
            stroke="rgba(255,255,255,0.10)" stroke-width="1"/>
      <line x1="-60" y1="274" x2="970" y2="208"
            stroke="rgba(255,255,255,0.055)" stroke-width="0.7"/>

      <!-- Subtle cloud wisps near top -->
      <ellipse cx="100"  cy="72"  rx="175" ry="21"
               fill="rgba(255,255,255,0.045)" transform="rotate(-6,100,72)"/>
      <ellipse cx="145"  cy="98"  rx="108" ry="13"
               fill="rgba(255,255,255,0.030)" transform="rotate(-6,145,98)"/>
      <ellipse cx="440"  cy="185" rx="215" ry="16"
               fill="rgba(255,255,255,0.028)" transform="rotate(-3,440,185)"/>
      <ellipse cx="650"  cy="140" rx="135" ry="11"
               fill="rgba(255,255,255,0.024)" transform="rotate(-5,650,140)"/>

      <!-- Subtle sunray shafts from horizon glow -->
      <polygon points="400,320 -20,75 65,75"
               fill="rgba(255,240,185,0.020)"/>
      <polygon points="400,320 800,55 718,55"
               fill="rgba(255,240,185,0.016)"/>
      <polygon points="400,320 355,0 445,0"
               fill="rgba(255,240,185,0.018)"/>

    </svg>

    <!-- Star field (sparse, upper region only) -->
    <svg class="stars-layer" viewBox="0 0 800 900"
         preserveAspectRatio="xMidYMid slice" xmlns="http://www.w3.org/2000/svg">
      <circle cx="52"  cy="36"  r="1.0" fill="rgba(255,255,255,0.68)"/>
      <circle cx="178" cy="17"  r="1.2" fill="rgba(255,255,255,0.58)"/>
      <circle cx="308" cy="53"  r="0.8" fill="rgba(255,255,255,0.72)"/>
      <circle cx="492" cy="27"  r="1.0" fill="rgba(255,255,255,0.52)"/>
      <circle cx="638" cy="46"  r="0.9" fill="rgba(255,255,255,0.62)"/>
      <circle cx="748" cy="13"  r="1.1" fill="rgba(255,255,255,0.47)"/>
      <circle cx="92"  cy="123" r="0.8" fill="rgba(255,255,255,0.44)"/>
      <circle cx="262" cy="103" r="1.0" fill="rgba(255,255,255,0.50)"/>
      <circle cx="428" cy="88"  r="0.7" fill="rgba(255,255,255,0.55)"/>
      <circle cx="584" cy="116" r="1.0" fill="rgba(255,255,255,0.44)"/>
      <circle cx="702" cy="86"  r="0.9" fill="rgba(255,255,255,0.52)"/>
      <circle cx="762" cy="152" r="0.7" fill="rgba(255,255,255,0.40)"/>
      <circle cx="38"  cy="194" r="0.8" fill="rgba(255,255,255,0.37)"/>
      <circle cx="348" cy="158" r="0.7" fill="rgba(255,255,255,0.40)"/>
      <circle cx="510" cy="175" r="0.6" fill="rgba(255,255,255,0.33)"/>
    </svg>

    <!-- ── Chat Widget ── -->
    <div class="chat-widget">

      <!-- Header -->
      <div class="chat-header">
        <!--
          Bot icon: robot face (circle head) + speech bubble.
          Pure SVG, no external resources.
        -->
        <svg class="chat-header-icon" viewBox="0 0 32 32" fill="none"
             xmlns="http://www.w3.org/2000/svg">
          <!-- Outer glow ring -->
          <circle cx="16" cy="16" r="15"
                  fill="rgba(255,255,255,0.12)" stroke="rgba(255,255,255,0.25)" stroke-width="1"/>
          <!-- Antenna stem -->
          <line x1="16" y1="9.5" x2="16" y2="6"
                stroke="white" stroke-width="1.5" stroke-linecap="round" opacity="0.88"/>
          <!-- Antenna tip dot -->
          <circle cx="16" cy="5" r="1.4" fill="white" opacity="0.88"/>
          <!-- Face plate (rounded rect) -->
          <rect x="8.5" y="9.5" width="15" height="11" rx="3.5"
                fill="white" opacity="0.94"/>
          <!-- Left eye -->
          <circle cx="13" cy="15" r="1.9" fill="#00897B"/>
          <circle cx="13.6" cy="14.35" r="0.55" fill="white"/>
          <!-- Right eye -->
          <circle cx="19" cy="15" r="1.9" fill="#00897B"/>
          <circle cx="19.6" cy="14.35" r="0.55" fill="white"/>
          <!-- Speech bubble body -->
          <rect x="8.5" y="22" width="15" height="8" rx="3" fill="white" opacity="0.90"/>
          <!-- Bubble tail (bottom-left) -->
          <path d="M11,22 L8,28 L14,22 Z" fill="white" opacity="0.90"/>
          <!-- Bubble dots -->
          <circle cx="13"   cy="26" r="1.1" fill="#00897B" opacity="0.72"/>
          <circle cx="16"   cy="26" r="1.1" fill="#00897B" opacity="0.72"/>
          <circle cx="19"   cy="26" r="1.1" fill="#00897B" opacity="0.72"/>
        </svg>

        <div class="chat-header-info">
          <div class="chat-header-title">Customer Assistant</div>
          <div class="chat-header-sub">Powered by AI &nbsp;·&nbsp; Always on</div>
        </div>
        <div class="status-dot"></div>
      </div>

      <!-- Messages area -->
      <div class="chat-messages" id="chatMessages"></div>

      <!-- Decorative input bar — purely visual, no function -->
      <div class="chat-input-bar">
        <input class="chat-input" type="text"
               placeholder="Type a message…" disabled>
        <button class="chat-send-btn" disabled aria-label="Send">
          <svg viewBox="0 0 16 16" fill="none" width="15" height="15"
               xmlns="http://www.w3.org/2000/svg">
            <path d="M14 8L2 2L5.2 8L2 14L14 8Z" fill="white"/>
          </svg>
        </button>
      </div>
    </div>

  </div>
</div>

<script>
// ── Preview conversation ─────────────────────────────────────────────────────
// A short scripted exchange that plays automatically on load, demonstrating
// the chat UI. The real conversation and demo logic will be wired up later.
const PREVIEW = [
  {
    role: 'assistant',
    text: 'Hello! I\'m your Customer Assistant. How can I help you today?'
  },
  {
    role: 'user',
    text: 'I need to upgrade my flight to Business Class.'
  },
  {
    role: 'assistant',
    text: 'Happy to help! Could you share your booking reference number?'
  },
  {
    role: 'user',
    text: 'Sure — it\'s BA2847X.'
  },
  {
    role: 'assistant',
    text: 'Found it! BA2847X: London Heathrow → New York JFK, 15 March. Business Class upgrade available for £340. Shall I proceed?'
  },
  {
    role: 'user',
    text: 'Yes please!'
  },
  {
    role: 'assistant',
    text: '✅ Upgrade confirmed! Your new seat is 4A in Business Class. Enjoy your flight. Bon voyage!'
  }
];

// ── DOM helpers ──────────────────────────────────────────────────────────────
const chatBox = document.getElementById('chatMessages');

function scrollBottom() {
  chatBox.scrollTop = chatBox.scrollHeight;
}

function createBubble(role, text) {
  const row = document.createElement('div');
  row.className = `msg-row ${role}`;
  const bubble = document.createElement('div');
  bubble.className = `bubble ${role}`;
  bubble.textContent = text;
  row.appendChild(bubble);
  return row;
}

function createTypingRow() {
  const row = document.createElement('div');
  row.className = 'msg-row assistant';
  const indicator = document.createElement('div');
  indicator.className = 'typing-indicator';
  for (let i = 0; i < 3; i++) {
    const dot = document.createElement('div');
    dot.className = 'typing-dot';
    indicator.appendChild(dot);
  }
  row.appendChild(indicator);
  return row;
}

function sleep(ms) { return new Promise(r => setTimeout(r, ms)); }

// ── Playback logic ───────────────────────────────────────────────────────────
let running = false;

async function play() {
  if (running) return;
  running = true;

  const btn = document.getElementById('runDemoBtn');
  btn.disabled = true;
  btn.textContent = '⏳ Running…';
  chatBox.innerHTML = '';

  await sleep(350);

  for (const { role, text } of PREVIEW) {
    if (role === 'assistant') {
      // Show typing indicator for 800ms, then reveal message
      const typingRow = createTypingRow();
      chatBox.appendChild(typingRow);
      scrollBottom();
      await sleep(800);
      typingRow.remove();
      chatBox.appendChild(createBubble('assistant', text));
      scrollBottom();
      await sleep(1050);
    } else {
      chatBox.appendChild(createBubble('user', text));
      scrollBottom();
      await sleep(620);
    }
  }

  btn.disabled = false;
  btn.textContent = '▶ Run Demo';
  running = false;
}

// Wire up button and auto-play on first load
document.getElementById('runDemoBtn').addEventListener('click', play);
window.addEventListener('load', () => setTimeout(play, 500));
</script>
</body>
</html>
